doctype html
html(lang='en')
  head
    meta(charset='UTF-8')
    meta(name='description', content='The official website of JamesTGH with no intention of improving it.')
    meta(name='author', content='JamesTGH')
    meta(name='viewport', content='width=800, user-scalable=yes')
    title RSS | JamesTGH
    //- link(rel='stylesheet', href='/stylesheets/index.css')
    script(type='text/javascript').
        function setCookie(cname, cvalue, exdays) {
            const d = new Date()
            d.setTime(d.getTime() + (exdays * 24 * 60 * 60 * 1000))
            let expires = 'expires='+d.toUTCString()
            document.cookie = cname + '=' + cvalue + ';' + expires + ';path=/'
        }
        function getCookie(cname) {
            let name = cname + '='
            let decodedCookie = decodeURIComponent(document.cookie)
            let ca = decodedCookie.split(';')
            for(let i = 0; i <ca.length; i++) {
                let c = ca[i]
                while (c.charAt(0) == ' ') {
                    c = c.substring(1)
                }
                if (c.indexOf(name) == 0) {
                    return c.substring(name.length, c.length)
                }
            }
            return ''
        }
        function data(provider, command) {
            if (provider == 'iptorrents') {
                if (command == 'save') {['iptorrentsuid', 'iptorrentskey'].forEach((name) => setCookie(name, document.getElementById(name).value, 364))}
                if (command == 'delete') {['iptorrentsuid', 'iptorrentskey'].forEach((name) => document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`)}
            }
            if (provider == 'torrenting') {
                if (command == 'save') {['torrentinguid', 'torrentingkey'].forEach((name) => setCookie(name, document.getElementById(name).value, 364))}
                if (command == 'delete') {['torrentinguid', 'torrentingkey'].forEach((name) => document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`)}
            }
            if (provider == 'privatehd') {
                if (command == 'save') {['privatehdpid'].forEach((name) => setCookie(name, document.getElementById(name).value, 364))}
                if (command == 'delete') {['privatehdpid'].forEach((name) => document.cookie = `${name}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;`)}
            }
            document.getElementById('iptorrentsurl').href = document.getElementById('iptorrentsurl').innerHTML = 'https://rss.jamestgh.com/iptorrents?uid=' + getCookie('iptorrentsuid') + '&key=' + getCookie('iptorrentskey')
            document.getElementById('torrentingurl').href = document.getElementById('torrentingurl').innerHTML = 'https://rss.jamestgh.com/torrenting?uid=' + getCookie('torrentinguid') + '&key=' + getCookie('torrentingkey')
            document.getElementById('privatehdurl').href = document.getElementById('privatehdurl').innerHTML = 'https://rss.jamestgh.com/privatehd?pid=' + getCookie('privatehdpid')
        }
  body(onload='data()')
    form
        | IPTorrents
        label UID:
        input#iptorrentsuid(type='text', required)
        label KEY:
        input#iptorrentskey(type='text', required)
        input(onclick='data("iptorrents", "save")', type='button', value='Save')
        input(onclick='data("iptorrents", "delete")', type='button', value='Delete')
        br
        a#iptorrentsurl(href='https://rss.jamestgh.com/iptorrents', target='_blank') https://rss.jamestgh.com/iptorrents
    form
        | Torrenting
        label UID:
        input#torrentinguid(type='text', required)
        label KEY:
        input#torrentingkey(type='text', required)
        input(onclick='torrenting("save")', type='button', value='Save')
        input(onclick='torrenting("delete")', type='button', value='Delete')
        br
        a#torrentingurl(href='https://rss.jamestgh.com/torrenting', target='_blank') https://rss.jamestgh.com/torrenting
    form
        | PrivateHD
        label PID:
        input#privatehdpid(type='text', required)
        input(onclick='privatehd("save")', type='button', value='Save')
        input(onclick='privatehd("delete")', type='button', value='Delete')
        br
        a#privatehdurl(href='https://rss.jamestgh.com/privatehd', target='_blank') https://rss.jamestgh.com/privatehd